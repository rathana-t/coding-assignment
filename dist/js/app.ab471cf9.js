(function(){"use strict";var t={7040:function(t,e,a){var n=a(9242),o=a(3396),i=a(7139);const s={key:0},l=(0,o._)("div",{class:"fixed top-0 left-0 z-10 bg-gray-500 opacity-70 w-full h-screen"},null,-1),r={class:"fixed top-0 left-0 z-20 m-20 bg-slate-50 rounded-md p-10 w-[80%] h-[80%] flex flex-col items-end"},c={class:"max-h-[90%] w-full overflow-y-auto"},u={class:"fixed top-0 left-0 right-0 bg-slate-200 h-20"},d={class:"flex justify-between items-center h-full p-5"},g={class:"flex justify-center"},p={class:"text-4xl"},f=(0,o._)("span",{class:"text-slate-400"}," Total: ",-1),m={class:"font-bold"},h={class:"flex justify-end"},y={class:"flex justify-center items-center"},v=["disabled"],b=["disabled"],w={class:"mt-36 mb-16 p-4"},_=(0,o.uE)('<div class="flex justify-center items-center px-5 fixed left-0 top-20 w-full bg-slate-500 text-white"><div class="w-[7rem] h-[4rem]"></div><div class="grid grid-cols-6 pl-6 gap-5 w-full"><div class="flex"><h1 class="text-md font-semibold">Country</h1></div><div>Code</div><div>Calling code</div><div>Native Name</div><p class="col-span-2">Alternative</p></div></div>',1),C={class:"space-y-2"};function x(t,e,a,x,k,j){const D=(0,o.up)("modal"),P=(0,o.up)("country-item"),O=(0,o.up)("pagination");return(0,o.wg)(),(0,o.iD)(o.HY,null,[k.modalCountry?((0,o.wg)(),(0,o.iD)("div",s,[l,(0,o._)("div",r,[(0,o._)("div",c,[(0,o.Wm)(D,{country:k.modalCountry},null,8,["country"])]),(0,o._)("button",{class:"bottom-0 right-0 p-2 rounded-md bg-slate-500 text-white",onClick:e[0]||(e[0]=t=>k.modalCountry=null)}," Close ")])])):(0,o.kq)("",!0),(0,o._)("div",u,[(0,o._)("div",d,[(0,o._)("div",g,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>k.search=t),type:"text",class:"border-2 border-gray-300 p-2 rounded-md w-72",placeholder:"Search",onInput:e[2]||(e[2]=(...t)=>j.searchCountry&&j.searchCountry(...t))},null,544),[[n.nr,k.search]])]),(0,o._)("div",p,[f,(0,o._)("span",m,(0,i.zw)(j.totalData||0),1)]),(0,o._)("div",null,[(0,o.Uk)(" Sort country name by: "),(0,o._)("div",h,[(0,o._)("div",y,[(0,o._)("button",{class:(0,i.C_)(["border-2 border-gray-300 p-1 rounded-md w-20",{"bg-blue-500 text-white":"asc"===k.sortBy,"opacity-50":!k.data?.length}]),onClick:e[3]||(e[3]=t=>j.sortData("asc")),disabled:!k.data?.length}," ASC ",10,v),(0,o._)("button",{class:(0,i.C_)(["border-2 border-gray-300 p-1 rounded-md w-20",{"bg-blue-500 text-white":"desc"===k.sortBy,"opacity-50":!k.data?.length}]),onClick:e[4]||(e[4]=t=>j.sortData("desc")),disabled:!k.data?.length}," DESC ",10,b)])])])])]),(0,o._)("div",w,[_,(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(k.dataByPage,(t=>((0,o.wg)(),(0,o.j4)(P,{key:t.name.official,country:t,class:"flex items-start p-2 bg-white border-2 rounded-md hover:bg-gray-200 transition duration-300 ease-in-out",onOpenModal:j.openModal},null,8,["country","onOpenModal"])))),128))])]),(0,o.Wm)(O,{page:k.page,"last-page":k.lastPage,"goto-page":j.gotoPage},null,8,["page","last-page","goto-page"])],64)}a(2087);const k=["src"],j={class:"grid grid-cols-6 pl-4 gap-5 w-full"},D=(0,o._)("span",{class:"text-slate-500"},"Code 2:",-1),P=(0,o._)("span",{class:"text-slate-500"},"Code 3:",-1),O={class:"col-span-2"};function z(t,e,a,n,s,l){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("img",{src:a.country.flags.png,class:"min-w-[7rem] min-h-[4rem] max-w-[7rem] max-h-[4rem] object-cover rounded-md"},null,8,k),(0,o._)("div",j,[(0,o._)("h1",{class:"text-md font-semibold cursor-pointer",onClick:e[0]||(e[0]=e=>t.$emit("open-modal",a.country))},(0,i.zw)(a.country.name.official),1),(0,o._)("div",null,[(0,o._)("p",null,[D,(0,o.Uk)(" "+(0,i.zw)(a.country.cca2),1)]),(0,o._)("p",null,[P,(0,o.Uk)(" "+(0,i.zw)(a.country.cca3),1)])]),(0,o._)("p",null,(0,i.zw)(n.getCallingCode(a.country.idd)),1),(0,o._)("div",null,(0,i.zw)(n.getTheNativeName(a.country.name?.nativeName)||"N/A"),1),(0,o._)("p",O,(0,i.zw)(a.country?.altSpellings?.join(", ")),1)])])}function N(){function t(t){return t&&`${t?.root||""}${t?.suffixes?.[0]||""}`||"N/A"}function e(t){for(const e in t)return t[e]?.official;return"N/A"}function a(t){return Object.keys(t).map((e=>({key:e,value:Array.isArray(t[e])?t[e].join(", "):t[e]})))}return{getCallingCode:t,getTheNativeName:e,getItemObject:a}}var I={name:"CountryItem",setup(){const{getCallingCode:t,getTheNativeName:e}=N();return{getCallingCode:t,getTheNativeName:e}},props:{country:{type:Object,required:!0}}},M=a(89);const T=(0,M.Z)(I,[["render",z]]);var B=T;const A=t=>((0,o.dD)("data-v-29d97a8c"),t=t(),(0,o.Cn)(),t),q={class:"flex"},H={class:"title"},U={key:0},Y={key:1},$=A((()=>(0,o._)("div",{class:"border-b border-slate-400 w-full"},null,-1)));function S(t,e,a,n,s,l){const r=(0,o.up)("list-object-text");return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.getItemObject(a.country),(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.key},[(0,o._)("div",q,[(0,o._)("span",H,(0,i.zw)(t.key)+" :",1),"object"===typeof t.value?((0,o.wg)(),(0,o.iD)("div",U,[(0,o.Wm)(r,{item:t.value},null,8,["item"])])):((0,o.wg)(),(0,o.iD)("div",Y,(0,i.zw)(t.value),1))]),$])))),128)}const Z=(0,o._)("br",null,null,-1),F={class:"title"},K={key:0},L={key:1},V=["src"],W={key:1};function E(t,e,a,n,s,l){const r=(0,o.up)("list-object-text",!0);return(0,o.wg)(),(0,o.iD)(o.HY,null,[Z,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.getItemObject(a.item),(t=>((0,o.wg)(),(0,o.iD)("div",{key:t.key,class:"flex ml-4"},[(0,o._)("span",F,(0,i.zw)(t.key)+" :",1),"object"===typeof t.value?((0,o.wg)(),(0,o.iD)("div",K,[(0,o.Wm)(r,{item:t.value},null,8,["item"])])):((0,o.wg)(),(0,o.iD)("div",L,["png"===t.key||"svg"===t.key?((0,o.wg)(),(0,o.iD)("img",{key:0,src:t.value,class:"w-10"},null,8,V)):((0,o.wg)(),(0,o.iD)("div",W,(0,i.zw)(t.value),1))]))])))),128))],64)}var G={name:"ListObjectText",setup(){const{getItemObject:t}=N();return{getItemObject:t}},components:{ListObjectText:Q},props:{item:{type:Object,required:!0}}};const J=(0,M.Z)(G,[["render",E]]);var Q=J,R={name:"CountryModal",setup(){const{getItemObject:t}=N();return{getItemObject:t}},components:{ListObjectText:Q},props:{country:{type:Object,required:!0}}};const X=(0,M.Z)(R,[["render",S],["__scopeId","data-v-29d97a8c"]]);var tt=X;const et={class:"flex justify-center items-center gap-1 fixed bottom-0 bg-slate-200 w-full p-4"},at=["disabled"],nt=["disabled"],ot=["onClick"],it=["disabled"],st=["disabled"];function lt(t,e,a,n,s,l){return(0,o.wg)(),(0,o.iD)("div",et,[(0,o._)("button",{class:"page-button",onClick:e[0]||(e[0]=t=>a.gotoPage(1)),disabled:1===a.page},(0,i.zw)("<<"),8,at),(0,o._)("button",{class:"page-button",onClick:e[1]||(e[1]=t=>a.gotoPage(a.page-1)),disabled:1===a.page},(0,i.zw)("<"),8,nt),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.getFivePage,(t=>((0,o.wg)(),(0,o.iD)("button",{key:t,class:(0,i.C_)(a.page===t?"active-page-button":"page-button"),onClick:e=>a.gotoPage(t)},(0,i.zw)(t),11,ot)))),128)),(0,o._)("button",{class:"page-button",onClick:e[2]||(e[2]=t=>a.gotoPage(a.page+1)),disabled:a.page===a.lastPage},(0,i.zw)(">"),8,it),(0,o._)("button",{class:"page-button",onClick:e[3]||(e[3]=t=>a.gotoPage(a.lastPage)),disabled:a.page===a.lastPage},(0,i.zw)(">>"),8,st)])}a(7658);var rt={name:"PaginationData",props:{page:{type:Number,required:!0},lastPage:{type:Number,required:!0},gotoPage:{type:Function,required:!0}},computed:{getFivePage(){let t=this.page-2>0?this.page-2:1,e=this.page+2<=this.lastPage?this.page+2:this.lastPage;const a=[];e-t<4&&(1===t?e=Math.min(5,this.lastPage):t=Math.max(1,this.lastPage-4));for(let n=t;n<=e;n++)a.push(n);return a}}};const ct=(0,M.Z)(rt,[["render",lt],["__scopeId","data-v-28aa5fb6"]]);var ut=ct,dt={name:"App",components:{CountryItem:B,Modal:tt,Pagination:ut},data(){return{baseUrl:"https://restcountries.com/v3.1",data:[],dataByPage:[],page:1,lastPage:1,limit:25,sortBy:"",search:"",modalCountry:null}},computed:{totalData(){return this.data?.length}},mounted(){this.fetchData("/all").then((t=>{this.data=t,this.setValue()}))},methods:{async fetchData(t){try{return await fetch(`${this.baseUrl}${t}`).then((t=>t.json()))}catch(e){console.error(e)}},openModal(t){this.modalCountry=t},gotoPage(t){if(t<1||t>this.lastPage)return;this.page=t;const e=(this.page-1)*this.limit,a=e+this.limit;this.dataByPage=this.data?.length&&this.data.slice(e,a)},sortData(t){t&&(this.data?.length&&this.data.sort(((e,a)=>"asc"===t?e.name.official.localeCompare(a.name.official):a.name.official.localeCompare(e.name.official))),this.sortBy=t,this.gotoPage(1))},async searchCountry(){const t=this.search.toLowerCase().trim();this.data=t?await this.fetchData(`/name/${t}`):await this.fetchData("/all"),this.setValue(),this.sortData(this.sortBy)},setValue(){this.page=1,this.lastPage=Math.ceil(this.data.length/this.limit),this.dataByPage=this.data?.length&&this.data.slice(0,this.limit)}}};const gt=(0,M.Z)(dt,[["render",x]]);var pt=gt;(0,n.ri)(pt).mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,i){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],o=t[u][1],i=t[u][2];for(var l=!0,r=0;r<n.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[r])}))?n.splice(r--,1):(l=!1,i<s&&(s=i));if(l){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[n,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,s=n[0],l=n[1],r=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var u=r(a)}for(e&&e(n);c<s.length;c++)i=s[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(u)},n=self["webpackChunkcoding_assignment"]=self["webpackChunkcoding_assignment"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(7040)}));n=a.O(n)})();
//# sourceMappingURL=app.ab471cf9.js.map